<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather App</title>
    <link rel="stylesheet" href="mini.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans&family=Quicksand:wght@600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
</head>

<body>
    <marquee id="anant">Designed Anant Chovatiya</marquee>

    <div class="head">
        WEATHER FORECASTING
    </div>
    <div class="container">
        <h1>Weather App</h1>
        <div class="search-container">
            <input type="text" id="locationInput" placeholder="Enter city name">
            <button id="searchButton">Search</button>
        </div>
        <div id="weatherInfo" class="hidden">
            <h2 id="cityName"></h2>
            <p id="weatherDescription"></p>
            <p>Temperature: <span id="temperature"></span>°C</p>
            <p>Min Temperature: <span id="minTemp"></span>°C</p>
            <p>Max Temperature: <span id="maxTemp"></span>°C</p>
            <p>Humidity: <span id="humidity"></span>%</p>
            <p>Wind Speed: <span id="windSpeed"></span> m/s</p>
        </div>
        <div id="errorContainer" class="hidden">
            <p id="errorMessage"></p>
        </div>
    </div>
    <script>
        const apiKey = '9a320bc6fd62964d4773ab8e348cff2e';
        const searchButton = document.getElementById('searchButton');
        const locationInput = document.getElementById('locationInput');
        const weatherInfo = document.getElementById('weatherInfo');
        const cityName = document.getElementById('cityName');
        const weatherDescription = document.getElementById('weatherDescription');
        const temperature = document.getElementById('temperature');
        const minTemp = document.getElementById('minTemp');
        const maxTemp = document.getElementById('maxTemp');
        const humidity = document.getElementById('humidity');
        const windSpeed = document.getElementById('windSpeed');
        const errorContainer = document.getElementById('errorContainer');
        const errorMessage = document.getElementById('errorMessage');

        searchButton.addEventListener('click', () => {
            getWeatherData(locationInput.value);
        });

        locationInput.addEventListener('keyup', (event) => {
            if (event.key === 'Enter') {
                getWeatherData(locationInput.value);
            }
        });

        function getWeatherData(location) {
            // Clear previous error messages
            errorContainer.classList.add('hidden');
            errorMessage.textContent = '';

            // Make an API request to OpenWeatherMap
            const apiUrl = `https://api.openweathermap.org/data/2.5/weather?q=${location}&appid=${apiKey}&units=metric`;

            fetch(apiUrl)
                .then((response) => {
                    if (!response.ok) {
                        throw new Error('City not found');
                    }
                    return response.json();
                })
                .then((data) => {
                    // Display weather data
                    cityName.textContent = `${data.name}, ${data.sys.country}`;
                    weatherDescription.textContent = data.weather[0].description;
                    temperature.textContent = data.main.temp;
                    minTemp.textContent = data.main.temp_min;
                    maxTemp.textContent = data.main.temp_max;
                    humidity.textContent = data.main.humidity;
                    windSpeed.textContent = data.wind.speed;
                    weatherInfo.classList.remove('hidden');
                })
                .catch((error) => {

                    errorMessage.textContent = error.message;
                    errorContainer.classList.remove('hidden');
                    weatherInfo.classList.add('hidden');
                });
        }
    </script>
</body>

</html>
